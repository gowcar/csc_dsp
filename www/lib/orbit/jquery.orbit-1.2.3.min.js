(function(a){a.fn.orbit=function(b){var c={animation:"horizontal-push",animationSpeed:600,timer:true,advanceSpeed:4000,pauseOnHover:false,startClockOnMouseOut:false,startClockOnMouseOutAfter:1000,directionalNav:true,captions:true,captionAnimation:"fade",captionAnimationSpeed:600,bullets:false,bulletThumbs:false,bulletThumbLocation:"",afterSlideChange:function(){}};var b=a.extend(c,b);return this.each(function(){var p=0,v=0,f,e,K;var L=a(this).addClass("orbit"),k=L.wrap('<div class="orbit-wrapper" />').parent();L.add(f).width("1px").height("1px");var w=L.children("img, a, div");w.each(function(){var N=a(this),O=N.width(),i=N.height();if(O>L.width()){L.add(k).width(O);f=L.width()}if(i>L.height()){L.add(k).height(i);e=L.height()}v++});function j(){K=false}function I(){K=true}if(w.length==1){b.directionalNav=false;b.timer=false;b.bullets=false}for(var B=0,D=w.length;B<D;B++){if(B===p){w.eq(B).css({"z-index":3}).fadeIn(function(){w.css({display:"block"})})}else{w.eq(B).css({"z-index":1}).fadeIn(function(){w.css({display:"block"})})}}function J(){if(!b.timer||b.timer=="false"){return false}else{if(q.is(":hidden")){M=setInterval(function(i){C("next")},b.advanceSpeed)}else{F=true;l.removeClass("active");M=setInterval(function(N){var i="rotate("+z+"deg)";z+=2;m.css({"-webkit-transform":i,"-moz-transform":i,"-o-transform":i});if(z>180){m.addClass("move");A.addClass("move")}if(z>360){m.removeClass("move");A.removeClass("move");z=0;C("next")}},b.advanceSpeed/180)}}}function g(){if(!b.timer||b.timer=="false"){return false}else{F=false;clearInterval(M);l.addClass("active")}}if(b.timer){var t='<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>';k.append(t);var q=k.children("div.timer"),F;if(q.length!=0){var m=a("div.timer span.rotator"),A=a("div.timer span.mask"),l=a("div.timer span.pause"),z=0,M;J();q.click(function(){if(!F){J()}else{g()}});if(b.startClockOnMouseOut){var E;k.mouseleave(function(){E=setTimeout(function(){if(!F){J()}},b.startClockOnMouseOutAfter)});k.mouseenter(function(){clearTimeout(E)})}}}if(b.pauseOnHover){k.mouseenter(function(){g()})}if(b.captions){var s='<div class="orbit-caption"></div>';k.append(s);var H=k.children(".orbit-caption");r()}function r(){if(!b.captions||b.captions=="false"){return false}else{var i=w.eq(p).data("caption");_captionHTML=a(i).html();if(_captionHTML){H.attr("id",i).html(_captionHTML);if(b.captionAnimation=="none"){H.show()}if(b.captionAnimation=="fade"){H.fadeIn(b.captionAnimationSpeed)}if(b.captionAnimation=="slideOpen"){H.slideDown(b.captionAnimationSpeed)}}else{if(b.captionAnimation=="none"){H.hide()}if(b.captionAnimation=="fade"){H.fadeOut(b.captionAnimationSpeed)}if(b.captionAnimation=="slideOpen"){H.slideUp(b.captionAnimationSpeed)}}}}if(b.directionalNav){if(b.directionalNav=="false"){return false}var n='<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>';k.append(n);var x=k.children("div.slider-nav").children("span.left"),G=k.children("div.slider-nav").children("span.right");x.click(function(){g();C("prev")});G.click(function(){g();C("next")})}if(b.bullets){var d='<ul class="orbit-bullets"></ul>';k.append(d);var h=k.children("ul.orbit-bullets");for(B=0;B<v;B++){var o=a("<li>"+(B+1)+"</li>");if(b.bulletThumbs){var y=w.eq(B).data("thumb");if(y){var o=a('<li class="has-thumb">'+B+"</li>");o.css({background:"url("+b.bulletThumbLocation+y+") no-repeat"})}}k.children("ul.orbit-bullets").append(o);o.data("index",B);o.click(function(){g();C(a(this).data("index"))})}u()}function u(){if(!b.bullets){return false}else{h.children("li").removeClass("active").eq(p).addClass("active")}}function C(O){var N=p,i=O;if(N==i){return false}function P(){w.eq(N).css({"z-index":1});j();b.afterSlideChange.call(this)}if(w.length=="1"){return false}if(!K){I();if(O=="next"){p++;if(p==v){p=0}}else{if(O=="prev"){p--;if(p<0){p=v-1}}else{p=O;if(N<p){i="next"}else{if(N>p){i="prev"}}}}u();w.eq(N).css({"z-index":2});if(b.animation=="fade"){w.eq(p).css({opacity:0,"z-index":3}).animate({opacity:1},b.animationSpeed,P)}if(b.animation=="horizontal-slide"){if(i=="next"){w.eq(p).css({left:f,"z-index":3}).animate({left:0},b.animationSpeed,P)}if(i=="prev"){w.eq(p).css({left:-f,"z-index":3}).animate({left:0},b.animationSpeed,P)}}if(b.animation=="vertical-slide"){if(i=="prev"){w.eq(p).css({top:e,"z-index":3}).animate({top:0},b.animationSpeed,P)}if(i=="next"){w.eq(p).css({top:-e,"z-index":3}).animate({top:0},b.animationSpeed,P)}}if(b.animation=="horizontal-push"){if(i=="next"){w.eq(p).css({left:f,"z-index":3}).animate({left:0},b.animationSpeed,P);w.eq(N).animate({left:-f},b.animationSpeed)}if(i=="prev"){w.eq(p).css({left:-f,"z-index":3}).animate({left:0},b.animationSpeed,P);w.eq(N).animate({left:f},b.animationSpeed)}}r()}}})}})(jQuery);